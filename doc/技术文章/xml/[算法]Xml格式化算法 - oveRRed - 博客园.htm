<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<!-- saved from url=(0065)http://www.cnblogs.com/overred/archive/2009/11/18/xml_parser.html -->
<HTML xmlns="http://www.w3.org/1999/xhtml"><HEAD><TITLE>[算法]Xml格式化算法 - oveRRed - 博客园</TITLE>
<META http-equiv=Content-Type content="text/html; charset=utf-8">
<META content=XmlFormat name=keywords><LINK 
href="[算法]Xml格式化算法 - oveRRed - 博客园_files/common.css" type=text/css 
rel=stylesheet><LINK id=MainCss 
href="[算法]Xml格式化算法 - oveRRed - 博客园_files/style.css" type=text/css 
rel=stylesheet><LINK href="[算法]Xml格式化算法 - oveRRed - 博客园_files/common2.css" 
type=text/css rel=stylesheet><LINK 
href="[算法]Xml格式化算法 - oveRRed - 博客园_files/shCore.css" type=text/css 
rel=stylesheet><LINK 
href="[算法]Xml格式化算法 - oveRRed - 博客园_files/shThemeDefault.css" type=text/css 
rel=stylesheet><LINK title=RSS href="http://www.cnblogs.com/overred/rss" 
type=application/rss+xml rel=alternate><LINK title=RSD 
href="http://www.cnblogs.com/overred/rsd.xml" type=application/rsd+xml 
rel=EditURI>
<SCRIPT src="[算法]Xml格式化算法 - oveRRed - 博客园_files/jquery.js" 
type=text/javascript></SCRIPT>

<SCRIPT src="[算法]Xml格式化算法 - oveRRed - 博客园_files/common.js" 
type=text/javascript></SCRIPT>

<SCRIPT src="[算法]Xml格式化算法 - oveRRed - 博客园_files/jquery.json-2.2.min.js" 
type=text/javascript></SCRIPT>

<META content="MSHTML 6.00.3790.4696" name=GENERATOR></HEAD>
<BODY>
<FORM id=Form1 name=Form1 action=xml_parser.html method=post>
<DIV><INPUT id="&#13;&#10;__VIEWSTATE" type=hidden name=__VIEWSTATE> </DIV><!--done-->
<DIV id=home>
<DIV id=header>
<DIV id=blogTitle><A id=lnkBlogLogo href="http://www.cnblogs.com/overred/"><IMG 
id=blogLogo alt=返回主页 src="[算法]Xml格式化算法 - oveRRed - 博客园_files/logo.gif"></A> <!--done-->
<H1><A class=headermaintitle id=Header1_HeaderTitle 
href="http://www.cnblogs.com/overred/">oveRRed</A></H1>
<H2>　　　------<FONT color=red>CLR,C/C++,Algorithm,Bioinformatics AND <A 
href="http://shuttler.codeplex.com/">ShuTTler</A></FONT><BR>　　　</H2></DIV><!--end: blogTitle 博客的标题和副标题 -->
<DIV id=navigator><!--done-->
<UL id=navList>
  <LI><A class=menu id=MyLinks1_HomeLink href="http://www.cnblogs.com/">博客园</A> 
  </LI>
  <LI><A class=menu id=MyLinks1_SpaceLink 
  href="http://space.cnblogs.com/">社区</A> </LI>
  <LI><A class=menu id=MyLinks1_MyHomeLink 
  href="http://www.cnblogs.com/overred/">首页</A> </LI>
  <LI><A class=menu id=MyLinks1_NewPostLink 
  href="http://www.cnblogs.com/overred/admin/EditPosts.aspx?opt=1">新随笔</A> </LI>
  <LI><A class=menu id=MyLinks1_ContactLink accessKey=9 
  href="http://space.cnblogs.com/msg/send/overred">联系</A> </LI>
  <LI><A class=menu id=MyLinks1_Admin 
  href="http://www.cnblogs.com/overred/admin/EditPosts.aspx">管理</A> </LI>
  <LI><A class=menu id=MyLinks1_Syndication 
  href="http://www.cnblogs.com/overred/rss">订阅</A> <A class=aHeaderXML 
  id=MyLinks1_XMLLink href="http://www.cnblogs.com/overred/rss"><IMG 
  style="BORDER-TOP-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px" 
  alt=订阅 src="[算法]Xml格式化算法 - oveRRed - 博客园_files/rss.gif"></A> </LI></UL>
<DIV class=blogStats><!--done-->随笔- 141&nbsp; 文章- 24&nbsp; 评论- 2434&nbsp; </DIV><!--end: blogStats --></DIV><!--end: navigator 博客导航栏 --></DIV><!--end: header 头部 -->
<DIV id=main>
<DIV id=mainContent>
<DIV class=forFlow><!--done-->
<DIV id=topics>
<DIV class=post>
<H1 class=postTitle><A class=postTitle2 id=ctl04_TitleUrl 
href="http://www.cnblogs.com/overred/archive/2009/11/18/xml_parser.html">[算法]Xml格式化算法</A> 
</H1>
<DIV class=clear></DIV>
<DIV class=postBody>
<P><BR></P>
<DIV class=cnblogs_code><!--<br /><br />Code highlighting produced by Actipro CodeHighlighter (freeware)<br />http://www.CodeHighlighter.com/<br /><br />--><SPAN 
style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">class</SPAN><SPAN 
style="COLOR: #000000">&nbsp;XmlFormat<BR>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">private</SPAN><SPAN 
style="COLOR: #000000">&nbsp;Queue</SPAN><SPAN 
style="COLOR: #000000">&lt;</SPAN><SPAN 
style="COLOR: #0000ff">string</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN 
style="COLOR: #000000">&nbsp;_allChars&nbsp;</SPAN><SPAN 
style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">new</SPAN><SPAN 
style="COLOR: #000000">&nbsp;Queue</SPAN><SPAN 
style="COLOR: #000000">&lt;</SPAN><SPAN 
style="COLOR: #0000ff">string</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN style="COLOR: #000000">(</SPAN><SPAN 
style="COLOR: #800080">1000</SPAN><SPAN 
style="COLOR: #000000">);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">private</SPAN><SPAN 
style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">const</SPAN><SPAN 
style="COLOR: #000000">&nbsp;</SPAN><SPAN style="COLOR: #0000ff">int</SPAN><SPAN 
style="COLOR: #000000">&nbsp;_front&nbsp;</SPAN><SPAN 
style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #000000"> </SPAN><SPAN 
style="COLOR: #800080">0x3C</SPAN><SPAN 
style="COLOR: #000000">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">private</SPAN><SPAN 
style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">const</SPAN><SPAN 
style="COLOR: #000000">&nbsp;</SPAN><SPAN style="COLOR: #0000ff">int</SPAN><SPAN 
style="COLOR: #000000">&nbsp;_end&nbsp;</SPAN><SPAN 
style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #000000"> </SPAN><SPAN 
style="COLOR: #800080">0x3E</SPAN><SPAN 
style="COLOR: #000000">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">private</SPAN><SPAN 
style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">bool</SPAN><SPAN 
style="COLOR: #000000">&nbsp;_isAdd&nbsp;</SPAN><SPAN 
style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">true</SPAN><SPAN 
style="COLOR: #000000">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">private</SPAN><SPAN 
style="COLOR: #000000">&nbsp;</SPAN><SPAN style="COLOR: #0000ff">int</SPAN><SPAN 
style="COLOR: #000000">&nbsp;_pos&nbsp;</SPAN><SPAN 
style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #800080">0</SPAN><SPAN 
style="COLOR: #000000">;<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">public</SPAN><SPAN 
style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">void</SPAN><SPAN 
style="COLOR: #000000">&nbsp;FormatXML(</SPAN><SPAN 
style="COLOR: #0000ff">string</SPAN><SPAN 
style="COLOR: #000000">&nbsp;xml)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">string</SPAN><SPAN 
style="COLOR: #000000">&nbsp;result&nbsp;</SPAN><SPAN 
style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">string</SPAN><SPAN 
style="COLOR: #000000">.Empty;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">char</SPAN><SPAN 
style="COLOR: #000000">[]&nbsp;cs&nbsp;</SPAN><SPAN 
style="COLOR: #000000">=</SPAN><SPAN 
style="COLOR: #000000">&nbsp;xml.ToCharArray();<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">for</SPAN><SPAN 
style="COLOR: #000000">&nbsp;(</SPAN><SPAN 
style="COLOR: #0000ff">int</SPAN><SPAN 
style="COLOR: #000000">&nbsp;i&nbsp;</SPAN><SPAN 
style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #800080">0</SPAN><SPAN 
style="COLOR: #000000">;&nbsp;i&nbsp;</SPAN><SPAN 
style="COLOR: #000000">&lt;</SPAN><SPAN 
style="COLOR: #000000">&nbsp;cs.Length;&nbsp;i</SPAN><SPAN 
style="COLOR: #000000">++</SPAN><SPAN 
style="COLOR: #000000">)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">if</SPAN><SPAN 
style="COLOR: #000000">&nbsp;(cs[i]&nbsp;</SPAN><SPAN 
style="COLOR: #000000">==</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #800080">0x20</SPAN><SPAN 
style="COLOR: #000000">)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">continue</SPAN><SPAN 
style="COLOR: #000000">;<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">switch</SPAN><SPAN 
style="COLOR: #000000">&nbsp;((</SPAN><SPAN 
style="COLOR: #0000ff">int</SPAN><SPAN 
style="COLOR: #000000">)cs[i])<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">case</SPAN><SPAN 
style="COLOR: #000000">&nbsp;_end:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;</SPAN><SPAN 
style="COLOR: #000000">+=</SPAN><SPAN style="COLOR: #000000">&nbsp;(</SPAN><SPAN 
style="COLOR: #0000ff">char</SPAN><SPAN 
style="COLOR: #000000">)_end;</SPAN><SPAN style="COLOR: #0000ff">int</SPAN><SPAN 
style="COLOR: #000000">&nbsp;k&nbsp;</SPAN><SPAN 
style="COLOR: #000000">=</SPAN><SPAN 
style="COLOR: #000000">&nbsp;_pos;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">if</SPAN><SPAN 
style="COLOR: #000000">&nbsp;(_isAdd)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_pos</SPAN><SPAN 
style="COLOR: #000000">++</SPAN><SPAN 
style="COLOR: #000000">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_allChars.Enqueue(AppendT(k)&nbsp;</SPAN><SPAN 
style="COLOR: #000000">+</SPAN><SPAN 
style="COLOR: #000000">&nbsp;result);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;</SPAN><SPAN 
style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">string</SPAN><SPAN 
style="COLOR: #000000">.Empty;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_isAdd&nbsp;</SPAN><SPAN 
style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">true</SPAN><SPAN 
style="COLOR: #000000">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">continue</SPAN><SPAN 
style="COLOR: #000000">;<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">case</SPAN><SPAN 
style="COLOR: #000000">&nbsp;_front:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">if</SPAN><SPAN 
style="COLOR: #000000">&nbsp;(cs[i&nbsp;</SPAN><SPAN 
style="COLOR: #000000">+</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #800080">1</SPAN><SPAN style="COLOR: #000000">]&nbsp;</SPAN><SPAN 
style="COLOR: #000000">==</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #800080">0x2F</SPAN><SPAN 
style="COLOR: #000000">)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_isAdd&nbsp;</SPAN><SPAN 
style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">false</SPAN><SPAN 
style="COLOR: #000000">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">if</SPAN><SPAN style="COLOR: #000000">&nbsp;(</SPAN><SPAN 
style="COLOR: #000000">!</SPAN><SPAN style="COLOR: #0000ff">string</SPAN><SPAN 
style="COLOR: #000000">.IsNullOrEmpty(result))<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_allChars.Enqueue(AppendT(_pos)&nbsp;</SPAN><SPAN 
style="COLOR: #000000">+</SPAN><SPAN 
style="COLOR: #000000">&nbsp;result);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;</SPAN><SPAN 
style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">string</SPAN><SPAN 
style="COLOR: #000000">.Empty;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_pos</SPAN><SPAN 
style="COLOR: #000000">--</SPAN><SPAN 
style="COLOR: #000000">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;</SPAN><SPAN 
style="COLOR: #000000">+=</SPAN><SPAN style="COLOR: #000000">&nbsp;(</SPAN><SPAN 
style="COLOR: #0000ff">char</SPAN><SPAN 
style="COLOR: #000000">)_front;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">continue</SPAN><SPAN 
style="COLOR: #000000">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">default</SPAN><SPAN 
style="COLOR: #000000">:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;</SPAN><SPAN 
style="COLOR: #000000">+=</SPAN><SPAN 
style="COLOR: #000000">&nbsp;cs[i];<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">break</SPAN><SPAN 
style="COLOR: #000000">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">private</SPAN><SPAN 
style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">string</SPAN><SPAN 
style="COLOR: #000000">&nbsp;AppendT(</SPAN><SPAN 
style="COLOR: #0000ff">int</SPAN><SPAN 
style="COLOR: #000000">&nbsp;l)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBuilder&nbsp;sb&nbsp;</SPAN><SPAN 
style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">new</SPAN><SPAN 
style="COLOR: #000000">&nbsp;StringBuilder(</SPAN><SPAN 
style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">\r\n</SPAN><SPAN 
style="COLOR: #800000">"</SPAN><SPAN 
style="COLOR: #000000">);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">for</SPAN><SPAN 
style="COLOR: #000000">&nbsp;(</SPAN><SPAN 
style="COLOR: #0000ff">int</SPAN><SPAN 
style="COLOR: #000000">&nbsp;i&nbsp;</SPAN><SPAN 
style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #800080">0</SPAN><SPAN 
style="COLOR: #000000">;&nbsp;i&nbsp;</SPAN><SPAN 
style="COLOR: #000000">&lt;</SPAN><SPAN 
style="COLOR: #000000">&nbsp;l;&nbsp;i</SPAN><SPAN 
style="COLOR: #000000">++</SPAN><SPAN 
style="COLOR: #000000">)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.Append(</SPAN><SPAN 
style="COLOR: #800000">"</SPAN><SPAN 
style="COLOR: #800000">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #800000">"</SPAN><SPAN 
style="COLOR: #000000">);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">return</SPAN><SPAN 
style="COLOR: #000000">&nbsp;sb.ToString();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">public</SPAN><SPAN 
style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">string</SPAN><SPAN 
style="COLOR: #000000">&nbsp;Value<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">get</SPAN><SPAN 
style="COLOR: #000000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBuilder&nbsp;sb&nbsp;</SPAN><SPAN 
style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">new</SPAN><SPAN 
style="COLOR: #000000">&nbsp;StringBuilder();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">foreach</SPAN><SPAN 
style="COLOR: #000000">&nbsp;(var&nbsp;s&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">in</SPAN><SPAN 
style="COLOR: #000000">&nbsp;_allChars)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.Append(s);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">return</SPAN><SPAN 
style="COLOR: #000000">&nbsp;sb.ToString();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;}</SPAN></DIV>
<P>&nbsp;Test:</P><BR>
<DIV class=cnblogs_code><!--<br /><br />Code highlighting produced by Actipro CodeHighlighter (freeware)<br />http://www.CodeHighlighter.com/<br /><br />--><SPAN 
style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">string</SPAN><SPAN 
style="COLOR: #000000">&nbsp;xml&nbsp;</SPAN><SPAN 
style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #800000">"</SPAN><SPAN 
style="COLOR: #800000">&lt;args&gt;&lt;a&gt;adfasoverredasdff&lt;/a&gt;</SPAN><SPAN 
style="COLOR: #800000"></SPAN><SPAN style="COLOR: #000000"></SPAN><SPAN 
style="COLOR: #800000"></SPAN><SPAN 
style="COLOR: #800000">&lt;b&gt;&lt;c&gt;&lt;d&gt;&lt;e&gt;&lt;f&gt;&lt;h&gt;&lt;i&gt;----====|=&lt;/i&gt;&lt;/h&gt;&lt;/f&gt;&lt;/e&gt;&lt;/d&gt;&lt;/c&gt;&lt;/b&gt;&lt;/args&gt;</SPAN><SPAN 
style="COLOR: #800000">"</SPAN><SPAN 
style="COLOR: #000000">;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XmlFormat&nbsp;f&nbsp;</SPAN><SPAN 
style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN 
style="COLOR: #0000ff">new</SPAN><SPAN 
style="COLOR: #000000">&nbsp;XmlFormat();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.FormatXML(xml);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine(f.Value);</SPAN></DIV>
<P>&nbsp;效果：</P><BR>
<DIV class=cnblogs_code><!--<br /><br />Code highlighting produced by Actipro CodeHighlighter (freeware)<br />http://www.CodeHighlighter.com/<br /><br />--><SPAN 
style="COLOR: #000000"><BR></SPAN><SPAN style="COLOR: #000000">&lt;</SPAN><SPAN 
style="COLOR: #000000">args</SPAN><SPAN style="COLOR: #000000">&gt;</SPAN><SPAN 
style="COLOR: #000000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #000000">&lt;</SPAN><SPAN style="COLOR: #000000">a</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN 
style="COLOR: #000000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;adfasoverredasdff<BR>&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #000000">&lt;/</SPAN><SPAN style="COLOR: #000000">a</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN style="COLOR: #000000"><BR></SPAN><SPAN 
style="COLOR: #000000"></SPAN><SPAN style="COLOR: #000000"></SPAN><SPAN 
style="COLOR: #000000"></SPAN><SPAN style="COLOR: #800000"></SPAN><SPAN 
style="COLOR: #800000"></SPAN><SPAN style="COLOR: #800000"></SPAN><SPAN 
style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="COLOR: #000000">&lt;</SPAN><SPAN style="COLOR: #000000">b</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN 
style="COLOR: #000000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #000000">&lt;</SPAN><SPAN style="COLOR: #000000">c</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN 
style="COLOR: #000000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #000000">&lt;</SPAN><SPAN style="COLOR: #000000">d</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN 
style="COLOR: #000000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #000000">&lt;</SPAN><SPAN style="COLOR: #000000">e</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN 
style="COLOR: #000000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #000000">&lt;</SPAN><SPAN style="COLOR: #000000">f</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN 
style="COLOR: #000000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #000000">&lt;</SPAN><SPAN style="COLOR: #000000">h</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN 
style="COLOR: #000000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #000000">&lt;</SPAN><SPAN style="COLOR: #000000">i</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN 
style="COLOR: #000000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #000000">----====|=</SPAN><SPAN 
style="COLOR: #000000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #000000">&lt;/</SPAN><SPAN style="COLOR: #000000">i</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN 
style="COLOR: #000000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #000000">&lt;/</SPAN><SPAN style="COLOR: #000000">h</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN 
style="COLOR: #000000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #000000">&lt;/</SPAN><SPAN style="COLOR: #000000">f</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN 
style="COLOR: #000000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #000000">&lt;/</SPAN><SPAN style="COLOR: #000000">e</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN 
style="COLOR: #000000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #000000">&lt;/</SPAN><SPAN style="COLOR: #000000">d</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN 
style="COLOR: #000000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #000000">&lt;/</SPAN><SPAN style="COLOR: #000000">c</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN 
style="COLOR: #000000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: #000000">&lt;/</SPAN><SPAN style="COLOR: #000000">b</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN style="COLOR: #000000"><BR></SPAN><SPAN 
style="COLOR: #000000">&lt;/</SPAN><SPAN style="COLOR: #000000">args</SPAN><SPAN 
style="COLOR: #000000">&gt;</SPAN><SPAN style="COLOR: #000000"><BR></SPAN></DIV>
<P>&nbsp;</P>
<P>一行白鹭上青天。。。。。。<BR></P>
<P>So bUgs! <BR></P>
<P>&nbsp;</P>
<DIV id=EntryTag>Tag标签: <A 
href="http://www.cnblogs.com/overred/tag/XmlFormat/">XmlFormat</A></DIV>
<DIV id=c_jquery_test style="DISPLAY: none"></DIV>
<SCRIPT type=text/javascript>
if ($ != jQuery) {
	$ = jQuery.noConflict();
}
</SCRIPT>

<DIV id=digg_block>
<DIV id=author_profile>
<DIV class=author_profile_info><A href="http://home.cnblogs.com/overred/" 
target=_blank><IMG class=author_avatar alt="" 
src="[算法]Xml格式化算法 - oveRRed - 博客园_files/u10461.jpg"></A> 
<DIV class=author_profile_info><A href="http://home.cnblogs.com/overred/" 
target=_blank>overred</A><BR>关注 - 12<BR>粉丝 - 26<BR></DIV></DIV>
<DIV class=clear></DIV>
<DIV id=author_profile_follow><A onclick="login();return false;" 
href="javascript:void(0);">关注博主</A></DIV></DIV>
<DIV id=div_digg>
<DIV class=diggit onclick=DiggIt(1605645,14015,1)><SPAN class=diggnum 
id=digg_count_1605645>0</SPAN> </DIV>
<DIV class=buryit onclick=DiggIt(1605645,14015,2)><SPAN class=burynum 
id=bury_count_1605645>0</SPAN> </DIV>
<DIV class=clear></DIV><SPAN id=span_isdigged_1605645 
style="DISPLAY: none">0</SPAN> 
<DIV class=diggword id=digg_word_1605645>(请您对文章做出评价)</DIV></DIV></DIV>
<DIV class=clear></DIV>
<DIV id=post_next_prev><A 
href="http://www.cnblogs.com/overred/archive/2009/09/30/Lock-Free-Stack.html">« 
</A>上一篇：<A title="发布于2009-09-30 23:24" 
href="http://www.cnblogs.com/overred/archive/2009/09/30/Lock-Free-Stack.html">《你不常用的c#之七》:Lock 
Free Stack（无锁Stack）</A><BR><A 
href="http://www.cnblogs.com/overred/archive/2009/11/24/sosex.html">» </A>下一篇：<A 
title="发布于2009-11-24 13:05" 
href="http://www.cnblogs.com/overred/archive/2009/11/24/sosex.html">[windbg]sosex大侠</A><BR></DIV>
<SCRIPT src="[算法]Xml格式化算法 - oveRRed - 博客园_files/google_service.js" 
type=text/javascript></SCRIPT>

<SCRIPT type=text/javascript>
    var c_enable_dfp = true;
    if (navigator.userAgent.indexOf("Chrome/6.0.401.1") > 0) {
        c_enable_dfp = false;
    }
    if (c_enable_dfp) {
        try {
            GS_googleAddAdSenseService("ca-pub-4210569241504288");
            GS_googleEnableAllServices();
        }
        catch (e) { }
    }
</SCRIPT>

<SCRIPT type=text/javascript>
    if (c_enable_dfp) {
        try {
            GA_googleAddSlot("ca-pub-4210569241504288", "cnblogs_blogpost_body");
            GA_googleAddSlot("ca-pub-4210569241504288", "cnblogs_commentbox_up");
            GA_googleAddSlot("ca-pub-4210569241504288", "cnblogs_blogpost_bottom");
            GA_googleAddSlot("ca-pub-4210569241504288", "cnblogs_blogpost_bottom1");
        }
        catch (e) { }
    }
</SCRIPT>

<SCRIPT type=text/javascript>
    if (c_enable_dfp) {
        try {
            GA_googleFetchAds();
        } catch (e) { }
    }
</SCRIPT>

<SCRIPT type=text/javascript>
	var blog_ad_has_shown = false;
	var cb_c_u_id = '';
	var cb_blog_uid = '3c43360b-63cf-dd11-9e4d-001cf0cd104b';
</SCRIPT>
</DIV>
<DIV class=postDesc>posted @ 2009-11-18 20:57 <A 
href="http://www.cnblogs.com/overred/">overred</A> 阅读(385) <A 
href="http://www.cnblogs.com/overred/archive/2009/11/18/xml_parser.html#commentform">评论(0)</A> 
&nbsp;<A 
href="http://www.cnblogs.com/overred/admin/EditPosts.aspx?postid=1605645">编辑</A> 
<A onclick="AddToWz(1605645);return false;" 
href="http://www.cnblogs.com/overred/archive/2009/11/18/xml_parser.html#">收藏</A> 
所属分类: <A href="http://www.cnblogs.com/overred/category/195407.html">⑦ 
算法</A></DIV></DIV><IMG height=1 
src="[算法]Xml格式化算法 - oveRRed - 博客园_files/1605645.jpg" width=1> <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
xmlns:dc="http://purl.org/dc/elements/1.1/"
xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
<rdf:Description
rdf:about="http://www.cnblogs.com/overred/archive/2009/11/18/xml_parser.html"
dc:identifier="http://www.cnblogs.com/overred/archive/2009/11/18/xml_parser.html"
dc:title=""
trackback:ping="http://www.cnblogs.com/overred/services/trackbacks/1605645.aspx" />
</rdf:RDF>
--></DIV><!--end: topics 文章、评论容器-->
<SCRIPT type=text/javascript>
    var commentAuthorHasChecked = false;
    var commentAuthorIsValid = false;
    var commentUrlIsValid = true;
    var commentEmailIsValid = true;
    var authenCodeHasChecked = false;
    var authenCodeIsValid = true;
    var hasLogined = false;
    
    function PostComment() {    
        
        var isValid = true;
        
        if($("#wrapAuthenCode").css("display")=="none"){
            ShowAuthenCode();
            $("#tip_AuthenCode").css("color","red");
            $("#tip_AuthenCode").html("请输入验证码！");
            isValid = false;
        }
        
        if(!hasLogined && !commentAuthorHasChecked){
            CheckAuthor();        
        }                
        if(!hasLogined && !commentAuthorIsValid){
            isValid = false;
        }
                       
        if(!authenCodeHasChecked){
            CheckAuthenCode();            
        }
        if(!authenCodeIsValid){
            isValid = false;
        }
        
        if(!hasLogined && !commentUrlIsValid){            
            isValid = false;
        }        
        if(!commentEmailIsValid){            
            isValid = false;
        }        
        if(!CheckCommentContent()){
            isValid = false;
        }    
        if(!isValid){
            return;
        }

        var content = $("#tbCommentBody").val();
        if(content.length>2000){
            alert("评论内容过长！不允许发布！");
            return;
        }     
        
        if(content.indexOf("　Ｅ　　　　　　　　　Ｅ　　　　　　　　　　Ｅ　　　　　　")>=0){
            alert("该内容不允许布！");
            return;
        }   
        
       if ($("#span_comment_posted").html()!='' && $("#span_comment_posted").html()==content){
            alert("该评论已发表过!");
            return;
        }
        
        $("#tip_comment").html("评论提交中...");
        $("#span_comment_posted").html(content);
        //content = content.replace("'", "\\'");
        var email = $("#tbCommentEmail").val();
        var authenNum = $("#tbAuthenCode").val();
        var authenId = $("#span_comment_test").html();
        var comment = {};
        comment.authenNum = authenNum;
        comment.authenId= authenId;
        comment.parentId = 0;
        comment.blogId = 0;
        comment.sourceUrl = '';
        comment.author = $("#tbCommentAuthor").val();
        comment.url = $("#tbCommentAuthorUrl").val();
        comment.authenCode = $("#tbAuthenCode").val();
        comment.email = email;
        comment.title = '';
        comment.content = content;
        comment.parentCommentId = $("#span_parentcomment_id").html();
        $.ajax({
            url: '/ws/CommentService.asmx/AddAnonymousComment',
            data: $.toJSON(comment),
            type: "post",
            dataType: "json",
            contentType: "application/json; charset=utf8",
            success: function(data) {
               if (data.d["IsSuccess"]) {
                    ShowCommentMsg("感谢您的回复:)");
                    //RereshComments2(comment.parentId);
                    $("#tbCommentBody").val('');
                    //$("#divCommentShow").html(data.d["ReturnData"]+content.replace(/\n/g,"<br/>")+"<br/><br/>");
                    $("#divCommentShow").html($("#divCommentShow").html()+data.d["ReturnData"]); 
                    $("#tip_AuthenCode").html('');
                    RefreshAuthenCode();
                    $("#tbAuthenCode").val("");                    
                    CommentNotify(data.d["CommentID"]);
                }
                else {
                    ShowCommentMsg(data.d["ReturnData"]);//"抱歉！评论提交失败！请与管理员联系。");
                    $("#span_comment_posted").html(''); 
                }
            },
            error: function(xhr) {
                ShowCommentMsg("抱歉！评论提交失败！请与管理员联系。");
                $("#span_comment_posted").html('');  
                //alert(xhr.responseText);
            }
        }
        );
    }
    
    function RefreshAuthenCode(){
        AjaxPost("/ws/CommentService.asmx/RefreshAuthenCode","{}",RefreshImg); 
        $("#lnkRereshAuthenCode").html("<span style='color:red'>刷新中...</span>");
        return false;
    }
    
    function RefreshImg(response){
       $("#imgAuthenCode").attr("src","/Modules/CaptchaImage/ValidCodeImage.aspx?id="+encodeURIComponent(response));
       $("#span_comment_test").html(response);
       $("#lnkRereshAuthenCode").html("看不清，换一个");
    }
    
    function ShowAuthenCode(){
        //if($("#wrapAuthenCode").css("display")=="none"){    
        //    AjaxPost("/ws/CommentService.asmx/RefreshAuthenCode","{}",ShowAuthenCodeOk);
        //}
        $("#wrapAuthenCode").show();      
    }
    
    function ShowAuthenCodeOk(response){
         UpdateAuthenCode();
         $("#tbAuthenCode").val("");
         $("#wrapAuthenCode").show();
         $("#tip_AuthenCode").html('');
    }  
 
    
    function CheckAuthor(isOnblur){
        commentAuthorHasChecked = true;
        var maxLength = 30;
        if($("#tbCommentAuthor").val().length == 0){
            $("#tip_author").html("请输入您的昵称！");
            commentAuthorIsValid = false;
            return false;
        }     
        else if($("#tbCommentAuthor").val().length > maxLength){
            $("#tip_author").html("昵称不允许超过" + maxLength + "个字符！");
            commentAuthorIsValid = false;
            return false;
        }
        else{
            //if(isOnblur){
                AjaxPost("/ws/CommentService.asmx/IsAuthorExist","{author:'"+$("#tbCommentAuthor").val()+"'}" ,OnCheckAuthorExist);
            //}
            //else{
            //    $("#tip_author").html("");
            //    commentAuthorIsValid = true;
            //}
            return true;
        }
   }
   
    function OnCheckAuthorExist(response){        
        if(!response){
            $("#tip_author").html("");
            commentAuthorIsValid = true;
        }
        else{
            $("#tip_author").html("该昵称已被使用，请更换昵称");
            commentAuthorIsValid = false;
        }
   }
   
    function CheckUrl(){
        var maxLength = 50;
        var url = $("#tbCommentAuthorUrl").val();
        
        if(url.length == 0){
            commentUrlIsValid = true;
            return true;
        }
        else if(url.length > maxLength){
            $("#tip_url").html("主页地址不允许超过" + maxLength + "个字符！");
            commentUrlIsValid = false;
            return false;
        }
        else if(url.indexOf("http://")!=0 || url.indexOf(".") < 0){
            $("#tip_url").html("主页地址要以“http://”开头");
            commentUrlIsValid = false;
            return false;
        }
        else{
            $("#tip_url").html("");
            commentUrlIsValid = true;
            return true;
        }
   }
   
   function CheckEmail(){
        var email = $("#tbCommentEmail").val();
        if(email.length>0){
            var regExp = new RegExp("\\w+@((\\w|\-)+\\.)+[a-z]{2,3}");
            if(!regExp.test(email)){
                $("#tip_email").html("请输入正确的邮件地址!");
                commentEmailIsValid = false;
            }
            else{
                commentEmailIsValid = true;
                 $("#tip_email").html("");
            }
        }
        else{
            commentEmailIsValid = true;
            $("#tip_email").html("");  
        }
   }
   
   function CheckAuthenCode(){
        authenCodeHasChecked = true;
        var num = $("#tbAuthenCode").val();
        var id = $("#span_comment_test").html();
        $("#tip_AuthenCode").css("color","red");
        if(num.length==0){
             authenCodeIsValid = false;
             $("#tip_AuthenCode").html("请输入验证码！");
             return;
        }
        else if(num.length!=4){
            authenCodeIsValid = false;
            $("#tip_AuthenCode").html("请输入四位数字！");
             return;
        }
        else if(new RegExp("(\d+)").test(num)){
            authenCodeIsValid = false;
            $("#tip_AuthenCode").html("请输入四位数字！");
             return;
        }
        else{
            AjaxPost("/ws/CommentService.asmx/CheckAuthenCode","{number:"+num+",id:'"+id+"'}", OnCheckAuthenCode);
        }
   }
   
   function OnCheckAuthenCode(response){
        if(response){
            $("#tip_AuthenCode").css("color","green");
            $("#tip_AuthenCode").html("验证码输入正确！");
            authenCodeIsValid = true;            
        }
        else{
            $("#tip_AuthenCode").css("color","red");
            $("#tip_AuthenCode").html("验证码输错啦！");
            RefreshAuthenCode();
            authenCodeIsValid = false;           
        }
   }
   
   function CheckCommentContent(){
    if($("#tbCommentBody").val().length==0){
        alert("请输入评论内容！");
        return false;
    }
    return true;
   }
    
</SCRIPT>

<DIV class=commentform id=ctl05_comment_form>
<DIV id=ctl05_divLoginPannel>
<DIV class=login_tips>注册用户登录后才能发表评论，请 <A class=underline 
href="http://passport.cnblogs.com/login.aspx?ReturnUrl=http%3a%2f%2fwww.cnblogs.com%2foverred%2farchive%2f2009%2f11%2f18%2fxml_parser.html%3flogin%3d1%23commentform">登录</A> 
或 <A class=underline 
href="http://passport.cnblogs.com/register.aspx?ReturnUrl=http%3a%2f%2fwww.cnblogs.com%2foverred%2farchive%2f2009%2f11%2f18%2fxml_parser.html%23Bottom2">注册</A>，<A 
href="http://www.cnblogs.com/" target=_blank>返回博客园首页</A>。</DIV></DIV>
<DIV class="itnews c_ad_block">推荐链接：<BR><A class=site_hot 
href="http://a4.yeshj.com/rd/35450/" 
target=_blank>软件研发团队管理年会(7.10-7.11)</A><BR><A 
href="http://a4.yeshj.com/rd/35663/" target=_blank>沪江网招聘ASP.NET开发工程师</A><BR><A 
href="http://job.cnblogs.com/" target=_blank>找优秀程序员，就在博客园</A><BR><A 
href="http://news.cnblogs.com/" target=_blank>IT新闻</A>:<BR>· <A 
href="http://news.cnblogs.com/n/66277/" target=_blank>移动时代微软掉队 
Linux才可挑战苹果</A><BR>· <A href="http://news.cnblogs.com/n/66270/" 
target=_blank>俄罗斯小组宣布：星际2局域网破解95%</A><BR>· <A 
href="http://news.cnblogs.com/n/66267/" target=_blank>移动时代苹果与谷歌争霸 微软在没落</A><BR>· 
<A href="http://news.cnblogs.com/n/66266/" 
target=_blank>基于Android系统的智能音乐咖啡机</A><BR>· <A 
href="http://news.cnblogs.com/n/66265/" target=_blank>WebM进入Firefox 
Trunk</A><BR></DIV>
<DIV class=c_ad_block><A href="http://a4.yeshj.com/rd/34138/" 
target=_blank>每天10分钟，轻松学英语</A>&nbsp;&nbsp;<A 
href="http://a4.yeshj.com/rd/35140/" target=_blank>沪江网校</A><BR>
<DIV style="MARGIN-TOP: 5px">
<SCRIPT type=text/javascript>
    if (c_enable_dfp) {
        try {
            GA_googleFillSlot("cnblogs_blogpost_bottom");
        }
        catch (e) { }
    }
</SCRIPT>
</DIV>
<DIV class="itnews c_ad_block" id=job_block><A href="http://job.cnblogs.com/" 
target=_blank>推荐职位</A>:<BR>
<DIV id=job_list></DIV>
<SCRIPT type=text/javascript>
    try {
        GetJobList();
    } catch (e) { }
</SCRIPT>
</DIV></DIV>
<DIV class=c_ad_block id=site_nav_under>网站导航：<BR><A 
href="http://www.cnblogs.com/" target=_blank>博客园首页</A> &nbsp;<A 
href="http://news.cnblogs.com/" target=_blank>IT新闻</A> &nbsp;<A 
href="http://home.cnblogs.com/" target=_blank>个人主页</A> &nbsp;<A 
href="http://home.cnblogs.com/ing/" target=_blank>闪存</A> &nbsp;<A 
href="http://job.cnblogs.com/" target=_blank>程序员招聘</A> &nbsp;<A 
href="http://space.cnblogs.com/" target=_blank>社区</A> &nbsp;<A 
href="http://space.cnblogs.com/q/" target=_blank>博问</A> </DIV>
<DIV class=c_ad_block id=ad_under_comment2><A 
href="http://www.china-pub.com/STATIC07/1005/zh_loving_100528.asp" 
target=_blank><IMG 
style="BORDER-TOP-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px" 
alt="" 
src="[算法]Xml格式化算法 - oveRRed - 博客园_files/china_pub_20100610.gif"></A><BR><A 
href="http://www.china-pub.com/itbook/" target=_blank>China-pub 
计算机图书网上专卖店！6.5万品种2-8折！</A><BR><A 
href="http://www.china-pub.com/static07/0901/zh_jueba_090121.asp" 
target=_blank>China-Pub 计算机绝版图书按需印刷服务</A><BR></DIV>
<DIV id=relative_search><BR><B>相关搜索:</B><BR><A 
href="http://zzk.cnblogs.com/s?w=XmlFormat" target=_blank>XmlFormat</A> <A 
href="http://zzk.cnblogs.com/s?w=%e2%91%a6+%e7%ae%97%e6%b3%95" target=_blank>⑦ 
算法</A> </DIV>
<DIV id=relative_search><BR><B>在知识库中查看：</B><BR><A 
href="http://kb.cnblogs.com/a/1605645/">[算法]Xml格式化算法</A></DIV></DIV></DIV><!--end: forFlow --></DIV><!--end: mainContent 主体内容容器-->
<DIV id=sideBar>
<DIV id=sideBarMain><!--done-->
<DIV class=newsItem>
<H3 class=catListTitle>公告</H3><FONT color=red>Shuttler.Net发布3.1415926 
stable版本。</FONT><BR>下载地址:<A href="http://shuttler.codeplex.com/" 
target=_blank>http://shuttler.codeplex.com/</A>
<DIV id=profile_block>粉丝 - 26<BR>关注 - 12<BR><A 
href="http://home.cnblogs.com/overred/" target=_blank>我的主页</A>&nbsp; <A 
href="http://home.cnblogs.com/overred/detail/" target=_blank>个人资料</A><BR><A 
href="http://home.cnblogs.com/overred/ing/" target=_blank>我的闪存</A>&nbsp; <A 
href="http://space.cnblogs.com/msg/send/overred" 
target=_blank>发短消息</A></DIV></DIV>
<DIV id=calendar></DIV>
<DIV id=leftcontentcontainer>
<DIV id=side_ing_block>
<H3 class=catListTitle>最新闪存</H3>
<UL>
  <LI><A class=gray title=http://www.ceaj.org/ href="http://www.ceaj.org/" 
  target=_new>http://www.ceaj.org/</A> <A class=ing_lnk 
  href="http://home.cnblogs.com/ing/104383/">05-28 13:30</A>
  <LI>能量转化的有序性，就是能量密度的差异倾向于均等，即“熵将随着时间而增大”。当熵达到最大时， 
  能量转化将会停止。此时“能的总量”虽保持不变，但“能的可利用价值”却变为零。 <A class=ing_lnk 
  href="http://home.cnblogs.com/ing/100244/">05-09 22:41</A>
  <LI>德国物理学家克劳修斯用“熵”来表示任何一种能量在空间分布的均匀程度，系统能量分布的越均匀，熵就越大。当能量分布完全均匀时，系统的熵达到最大值。 <A 
  class=ing_lnk href="http://home.cnblogs.com/ing/100243/">05-09 22:41</A>
  <LI><A class=gray title=http://www.matrix67.com/blog/ 
  href="http://www.matrix67.com/blog/" 
  target=_new>http://www.matrix67.com/blog/</A> <A class=ing_lnk 
  href="http://home.cnblogs.com/ing/91704/">03-31 16:01</A>
  <LI>总有一天世界的坟地会不够用，因为不断有人死去，他们死后也要一个“房子” <A class=ing_lnk 
  href="http://home.cnblogs.com/ing/90976/">03-28 22:10</A>
  <LI><A class=ing_lnk 
  href="http://home.cnblogs.com/overred/ing/">更多闪存...</A></LI></UL></DIV>
<SCRIPT type=text/javascript>
var blogapp = 'overred';
</SCRIPT>

<DIV class=mySearch>
<H3 class=catListTitle>搜索</H3>
<DIV class=div_my_zzk><INPUT class=input_my_zzk id=q 
onkeydown="return zzk_go_enter(event);">&nbsp;<INPUT class=btn_my_zzk id=btnZzk onclick=zzk_go() type=button value=找找看></DIV></DIV>
<DIV class=catListPostCategory>
<H3 class=catListTitle>随笔分类</H3>
<UL>
  <LI><A id=SingleColumn1_Categories_CatList_ctl00_LinkList_ctl01_Link 
  href="http://www.cnblogs.com/overred/category/96235.html">① NET Framework 
  (9)</A> <A id=SingleColumn1_Categories_CatList_ctl00_LinkList_ctl01_RssLink 
  title="Subscribe to ① NET Framework (9)" 
  onclick="open_link('http://www.cnblogs.com/overred/category/96235.html/rss');return false;" 
  href="http://www.cnblogs.com/overred/archive/2009/11/18/xml_parser.html###">(rss)</A> 

  <LI><A id=SingleColumn1_Categories_CatList_ctl00_LinkList_ctl02_Link 
  href="http://www.cnblogs.com/overred/category/96241.html">② MSIL(1)</A> <A 
  id=SingleColumn1_Categories_CatList_ctl00_LinkList_ctl02_RssLink 
  title="Subscribe to ② MSIL(1)" 
  onclick="open_link('http://www.cnblogs.com/overred/category/96241.html/rss');return false;" 
  href="http://www.cnblogs.com/overred/archive/2009/11/18/xml_parser.html###">(rss)</A> 

  <LI><A id=SingleColumn1_Categories_CatList_ctl00_LinkList_ctl03_Link 
  href="http://www.cnblogs.com/overred/category/173724.html">③ 你不常用的c#系列(8)</A> 
  <A id=SingleColumn1_Categories_CatList_ctl00_LinkList_ctl03_RssLink 
  title="Subscribe to ③ 你不常用的c#系列(8)" 
  onclick="open_link('http://www.cnblogs.com/overred/category/173724.html/rss');return false;" 
  href="http://www.cnblogs.com/overred/archive/2009/11/18/xml_parser.html###">(rss)</A> 

  <LI><A id=SingleColumn1_Categories_CatList_ctl00_LinkList_ctl04_Link 
  href="http://www.cnblogs.com/overred/category/185421.html">④ 汇编</A> <A 
  id=SingleColumn1_Categories_CatList_ctl00_LinkList_ctl04_RssLink 
  title="Subscribe to ④ 汇编" 
  onclick="open_link('http://www.cnblogs.com/overred/category/185421.html/rss');return false;" 
  href="http://www.cnblogs.com/overred/archive/2009/11/18/xml_parser.html###">(rss)</A> 

  <LI><A id=SingleColumn1_Categories_CatList_ctl00_LinkList_ctl05_Link 
  href="http://www.cnblogs.com/overred/category/186114.html">⑤ 翻译(2)</A> <A 
  id=SingleColumn1_Categories_CatList_ctl00_LinkList_ctl05_RssLink 
  title="Subscribe to ⑤ 翻译(2)" 
  onclick="open_link('http://www.cnblogs.com/overred/category/186114.html/rss');return false;" 
  href="http://www.cnblogs.com/overred/archive/2009/11/18/xml_parser.html###">(rss)</A> 

  <LI><A id=SingleColumn1_Categories_CatList_ctl00_LinkList_ctl06_Link 
  href="http://www.cnblogs.com/overred/category/189864.html">⑥ SQL(1)</A> <A 
  id=SingleColumn1_Categories_CatList_ctl00_LinkList_ctl06_RssLink 
  title="Subscribe to ⑥ SQL(1)" 
  onclick="open_link('http://www.cnblogs.com/overred/category/189864.html/rss');return false;" 
  href="http://www.cnblogs.com/overred/archive/2009/11/18/xml_parser.html###">(rss)</A> 

  <LI><A id=SingleColumn1_Categories_CatList_ctl00_LinkList_ctl07_Link 
  href="http://www.cnblogs.com/overred/category/195407.html">⑦ 算法(11)</A> <A 
  id=SingleColumn1_Categories_CatList_ctl00_LinkList_ctl07_RssLink 
  title="Subscribe to ⑦ 算法(11)" 
  onclick="open_link('http://www.cnblogs.com/overred/category/195407.html/rss');return false;" 
  href="http://www.cnblogs.com/overred/archive/2009/11/18/xml_parser.html###">(rss)</A> 

  <LI><A id=SingleColumn1_Categories_CatList_ctl00_LinkList_ctl08_Link 
  href="http://www.cnblogs.com/overred/category/217402.html">⑧ Shuttler(4)</A> 
  <A id=SingleColumn1_Categories_CatList_ctl00_LinkList_ctl08_RssLink 
  title="Subscribe to ⑧ Shuttler(4)" 
  onclick="open_link('http://www.cnblogs.com/overred/category/217402.html/rss');return false;" 
  href="http://www.cnblogs.com/overred/archive/2009/11/18/xml_parser.html###">(rss)</A> 
  </LI></UL></DIV>
<DIV class=catListPostArchive>
<H3 class=catListTitle>随笔档案</H3>
<UL>
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl01_Link 
  href="http://www.cnblogs.com/overred/archive/2010/05.html">2010年5月 (1)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl02_Link 
  href="http://www.cnblogs.com/overred/archive/2010/04.html">2010年4月 (1)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl03_Link 
  href="http://www.cnblogs.com/overred/archive/2010/03.html">2010年3月 (1)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl04_Link 
  href="http://www.cnblogs.com/overred/archive/2009/12.html">2009年12月 (5)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl05_Link 
  href="http://www.cnblogs.com/overred/archive/2009/11.html">2009年11月 (3)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl06_Link 
  href="http://www.cnblogs.com/overred/archive/2009/09.html">2009年9月 (2)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl07_Link 
  href="http://www.cnblogs.com/overred/archive/2009/08.html">2009年8月 (1)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl08_Link 
  href="http://www.cnblogs.com/overred/archive/2009/07.html">2009年7月 (1)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl09_Link 
  href="http://www.cnblogs.com/overred/archive/2009/06.html">2009年6月 (1)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl10_Link 
  href="http://www.cnblogs.com/overred/archive/2009/05.html">2009年5月 (4)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl11_Link 
  href="http://www.cnblogs.com/overred/archive/2009/04.html">2009年4月 (1)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl12_Link 
  href="http://www.cnblogs.com/overred/archive/2009/03.html">2009年3月 (1)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl13_Link 
  href="http://www.cnblogs.com/overred/archive/2009/01.html">2009年1月 (6)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl14_Link 
  href="http://www.cnblogs.com/overred/archive/2008/12.html">2008年12月 (3)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl15_Link 
  href="http://www.cnblogs.com/overred/archive/2008/03.html">2008年3月 (2)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl16_Link 
  href="http://www.cnblogs.com/overred/archive/2008/02.html">2008年2月 (1)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl17_Link 
  href="http://www.cnblogs.com/overred/archive/2007/08.html">2007年8月 (1)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl18_Link 
  href="http://www.cnblogs.com/overred/archive/2007/07.html">2007年7月 (1)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl19_Link 
  href="http://www.cnblogs.com/overred/archive/2007/06.html">2007年6月 (6)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl20_Link 
  href="http://www.cnblogs.com/overred/archive/2007/05.html">2007年5月 (2)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl21_Link 
  href="http://www.cnblogs.com/overred/archive/2007/04.html">2007年4月 (1)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl22_Link 
  href="http://www.cnblogs.com/overred/archive/2006/12.html">2006年12月 (1)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl23_Link 
  href="http://www.cnblogs.com/overred/archive/2006/10.html">2006年10月 (1)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl24_Link 
  href="http://www.cnblogs.com/overred/archive/2006/08.html">2006年8月 (2)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl25_Link 
  href="http://www.cnblogs.com/overred/archive/2006/06.html">2006年6月 (2)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl26_Link 
  href="http://www.cnblogs.com/overred/archive/2006/05.html">2006年5月 (1)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl27_Link 
  href="http://www.cnblogs.com/overred/archive/2006/04.html">2006年4月 (7)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl28_Link 
  href="http://www.cnblogs.com/overred/archive/2006/03.html">2006年3月 (12)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl29_Link 
  href="http://www.cnblogs.com/overred/archive/2006/02.html">2006年2月 (10)</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl01_LinkList_ctl30_Link 
  href="http://www.cnblogs.com/overred/archive/2005/10.html">2005年10月 (5)</A> 
  </LI></UL></DIV>
<DIV class=catList>
<H3 class=catListTitle>老师的站</H3>
<UL>
  <LI><A id=SingleColumn1_Categories_CatList_ctl02_LinkList_ctl01_Link 
  href="http://www.jjshang.com/" target=_blank>jjshang</A> 
  <LI><A id=SingleColumn1_Categories_CatList_ctl02_LinkList_ctl02_Link 
  href="http://linux.bloghome.cn/" target=_blank>Linuxman</A> </LI></UL></DIV>
<DIV class=catList>
<H3 class=catListTitle>意大利博客园</H3>
<UL>
  <LI><A id=SingleColumn1_Categories_CatList_ctl03_LinkList_ctl01_Link 
  href="http://blogs.ugidotnet.org/" target=_blank>意大利人的博客园：.net技术社区</A> 
</LI></UL></DIV>
<DIV class=catListComment>
<H3 class=catListTitle>最新评论<A id=SingleColumn1__1ca062a_RSSHyperlink1 
title=RSS订阅最最新评论 href="http://www.cnblogs.com/overred/CommentsRSS.aspx"><IMG 
title=RSS订阅最最新评论 
style="BORDER-TOP-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px" 
src="[算法]Xml格式化算法 - oveRRed - 博客园_files/xml.gif"></A></H3>
<DIV class=divRecentCommentAticle><A class=listitem 
id=SingleColumn1__1ca062a_CommentList_ctl00_Hyperlink2 
href="http://www.cnblogs.com/overred/archive/2009/05/04/GCHandle.html#1824427">1.&nbsp;Re:《你不常用的c#之二》:略谈GCHandle</A> 
</DIV>
<DIV class=divRecentComment>写的不错，收藏了 (小瓜玉米汤) </DIV>
<DIV class=divRecentCommentAticle><A class=listitem 
id=SingleColumn1__1ca062a_CommentList_ctl01_Hyperlink2 
href="http://www.cnblogs.com/overred/archive/2010/04/17/Segmentword.html#1822424">2.&nbsp;Re:[算法]中文分词算法(mini版)</A> 
</DIV>
<DIV class=divRecentComment>这个技术一直比较感兴趣，主要是算法也蛮有意思的，关注 (lerit) </DIV>
<DIV class=divRecentCommentAticle><A class=listitem 
id=SingleColumn1__1ca062a_CommentList_ctl02_Hyperlink2 
href="http://www.cnblogs.com/overred/archive/2009/12/20/Shuttler_Net_2.html#1814126">3.&nbsp;Re:Shuttler.Net2.0圣诞开源发布(两块布子做的是花衣裳)_2010-04-24更新</A> 
</DIV>
<DIV class=divRecentComment>[quote]writing： @overred 
请问是否可以服务端使用异步，客户端使用同步的方式呢？这样会不会大大降低服务端的处理能力呢？ 另外,IM TCP的客户端程序存在内存泄露的问题，有很... 
(overred) </DIV>
<DIV class=divRecentCommentAticle><A class=listitem 
id=SingleColumn1__1ca062a_CommentList_ctl03_Hyperlink2 
href="http://www.cnblogs.com/overred/archive/2009/12/20/Shuttler_Net_2.html#1814119">4.&nbsp;Re:Shuttler.Net2.0圣诞开源发布(两块布子做的是花衣裳)_2010-04-24更新</A> 
</DIV>
<DIV class=divRecentComment>补充一句，服务端的确没有内存泄露的问题，而且很稳定，呵呵。 (writing) </DIV>
<DIV class=divRecentCommentAticle><A class=listitem 
id=SingleColumn1__1ca062a_CommentList_ctl04_Hyperlink2 
href="http://www.cnblogs.com/overred/archive/2009/12/20/Shuttler_Net_2.html#1814115">5.&nbsp;Re:Shuttler.Net2.0圣诞开源发布(两块布子做的是花衣裳)_2010-04-24更新</A> 
</DIV>
<DIV class=divRecentComment>@overred 
请问是否可以服务端使用异步，客户端使用同步的方式呢？这样会不会大大降低服务端的处理能力呢？ 另外,IM 
TCP的客户端程序存在内存泄露的问题，有很多SocketAsyncEven... (writing) </DIV>
<DIV class=divRecentCommentAticle><A class=listitem 
id=SingleColumn1__1ca062a_CommentList_ctl05_Hyperlink2 
href="http://www.cnblogs.com/overred/archive/2009/12/20/Shuttler_Net_2.html#1811214">6.&nbsp;Re:Shuttler.Net2.0圣诞开源发布(两块布子做的是花衣裳)_2010-04-24更新</A> 
</DIV>
<DIV class=divRecentComment>@别爱上哥，哥只是个传说！没问题！ (overred) </DIV>
<DIV class=divRecentCommentAticle><A class=listitem 
id=SingleColumn1__1ca062a_CommentList_ctl06_Hyperlink2 
href="http://www.cnblogs.com/overred/archive/2010/03/28/KMP.html#1811213">7.&nbsp;Re:[算法]Knuth–Morris–Pratt算法(C#)</A> 
</DIV>
<DIV class=divRecentComment>@suyang 呵呵，福哉！ (overred) </DIV>
<DIV class=divRecentCommentAticle><A class=listitem 
id=SingleColumn1__1ca062a_CommentList_ctl07_Hyperlink2 
href="http://www.cnblogs.com/overred/archive/2009/12/20/Shuttler_Net_2.html#1811087">8.&nbsp;Re:Shuttler.Net2.0圣诞开源发布(两块布子做的是花衣裳)_2010-04-24更新</A> 
</DIV>
<DIV class=divRecentComment>能用于实际项目中么？ (别爱上哥，哥只是个传说！) </DIV>
<DIV class=divRecentCommentAticle><A class=listitem 
id=SingleColumn1__1ca062a_CommentList_ctl08_Hyperlink2 
href="http://www.cnblogs.com/overred/archive/2009/01/22/1379776.html#1811080">9.&nbsp;Re:[推荐]《你不常用的c#》系列索引</A> 
</DIV>
<DIV class=divRecentComment>留爪，以后有用 (别爱上哥，哥只是个传说！) </DIV>
<DIV class=divRecentCommentAticle><A class=listitem 
id=SingleColumn1__1ca062a_CommentList_ctl09_Hyperlink2 
href="http://www.cnblogs.com/overred/archive/2010/03/28/KMP.html#1811046">10.&nbsp;Re:[算法]Knuth–Morris–Pratt算法(C#)</A> 
</DIV>
<DIV class=divRecentComment>好久没逛园子了，来看看老兄的文章，想起了数据结构的美女老师~ (suyang) </DIV></DIV>
<DIV class=catListView>
<H3 class=catListTitle>阅读排行榜</H3>
<UL>
  <LI><A id=SingleColumn1_ctl03_TopList_ctl01_Hyperlink1 
  href="http://www.cnblogs.com/overred/archive/2007/06/09/777568.html">1.&nbsp;资源推荐：一本非常养眼的MSIL在线黄书(8876)</A> 

  <LI><A id=SingleColumn1_ctl03_TopList_ctl02_Hyperlink1 
  href="http://www.cnblogs.com/overred/archive/2006/05/01/390394.html">2.&nbsp;如何使用DOTMSN开发简单的MSN机器人示例(附示例源码) 
  (8851)</A> 
  <LI><A id=SingleColumn1_ctl03_TopList_ctl03_Hyperlink1 
  href="http://www.cnblogs.com/overred/archive/2006/04/28/387525.html">3.&nbsp;使用第三方SDK开发咱博客园自己的MSN机器人(附示例源码)(7155)</A> 

  <LI><A id=SingleColumn1_ctl03_TopList_ctl04_Hyperlink1 
  href="http://www.cnblogs.com/overred/archive/2006/04/24/383384.html">4.&nbsp;{asp.net2.0}动网新闻(DvNews 
  4.3.210 正式版)破解版(已经升级到.NET2.0)(7057)</A> 
  <LI><A id=SingleColumn1_ctl03_TopList_ctl05_Hyperlink1 
  href="http://www.cnblogs.com/overred/archive/2006/04/23/382992.html">5.&nbsp;.net 
  2.0中GridView无限级嵌套的实现(6732)</A> </LI></UL></DIV>
<DIV class=catListFeedback>
<H3 class=catListTitle>评论排行榜</H3>
<UL>
  <LI><A id=SingleColumn1_ctl04_TopList_ctl01_Hyperlink1 
  href="http://www.cnblogs.com/overred/archive/2006/04/24/383384.html">1.&nbsp;{asp.net2.0}动网新闻(DvNews 
  4.3.210 正式版)破解版(已经升级到.NET2.0)(294)</A> 
  <LI><A id=SingleColumn1_ctl04_TopList_ctl02_Hyperlink1 
  href="http://www.cnblogs.com/overred/archive/2006/03/13/349310.html">2.&nbsp;让咱们床上厨房里车顶上EasySearch 
  (咱程序员自己的搜索引擎---并附带c#源码和实例）(166)</A> 
  <LI><A id=SingleColumn1_ctl04_TopList_ctl03_Hyperlink1 
  href="http://www.cnblogs.com/overred/archive/2006/02/18/332969.html">3.&nbsp;开源ML代码生成器V1.0发布(附带在线升级功能)(46)</A> 

  <LI><A id=SingleColumn1_ctl04_TopList_ctl04_Hyperlink1 
  href="http://www.cnblogs.com/overred/archive/2009/01/06/thread_threadPool_windbg.html">4.&nbsp;《你不常用的c#之五》:Thread与ThreadPool的内存之战(31)</A> 

  <LI><A id=SingleColumn1_ctl04_TopList_ctl05_Hyperlink1 
  href="http://www.cnblogs.com/overred/archive/2009/12/20/Shuttler_Net_2.html">5.&nbsp;Shuttler.Net2.0圣诞开源发布(两块布子做的是花衣裳)_2010-04-24更新(30)</A> 
  </LI></UL></DIV></DIV></DIV><!--end: sideBarMain --></DIV><!--end: sideBar 侧边栏容器 -->
<DIV class=clear></DIV></DIV><!--end: main -->
<DIV class=clear></DIV>
<DIV id=footer><!--done-->Copyright ©2010 overred 
</DIV><!--end: footer --></DIV><!--end: home 自定义的最大容器 --></FORM>
<SCRIPT src="[算法]Xml格式化算法 - oveRRed - 博客园_files/shCore.js" 
type=text/javascript></SCRIPT>

<SCRIPT src="[算法]Xml格式化算法 - oveRRed - 博客园_files/shLanguage.js" 
type=text/javascript></SCRIPT>

<SCRIPT type=text/javascript>
        try {
            SyntaxHighlighter.config.clipboardSwf = 'http://common.cnblogs.com/flash/clipboard.swf';
            SyntaxHighlighter.all();
        } catch (e) { }
    </SCRIPT>

<SCRIPT src="[算法]Xml格式化算法 - oveRRed - 博客园_files/ShowHidden.js" 
type=text/javascript></SCRIPT>

<SCRIPT type=text/javascript>
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </SCRIPT>

<SCRIPT type=text/javascript>
        try {
            var pageTracker = _gat._getTracker("UA-476124-1");
            pageTracker._trackPageview();
        } catch (err) { }</SCRIPT>
</BODY></HTML>
